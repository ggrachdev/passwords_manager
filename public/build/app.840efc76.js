(self.webpackChunk=self.webpackChunk||[]).push([[143],{8173:(t,e,n)=>{"use strict";var r=n(7294),o=n(3935),a=(n(8304),n(489),n(2419),n(8011),n(9070),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(3727)),u=n(5977),i=n(5712),c=(n(3210),n(9554),n(4747),n(8788)),l=n(9273),s=n(9445);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(u,t);var e,n,o,a=h(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t)).state={email:null,password:null,errors:t.errors||[]},e.handlers={email:function(t){e.setState({email:t.target.value})},password:function(t){e.setState({password:t.target.value})}},e.onSubmit="onSubmit"in t?t.onSubmit:function(t){},e}return e=u,(n=[{key:"componentDidUpdate",value:function(t){this.props.errors.length!=t.errors.length&&this.setState({errors:this.props.errors})}},{key:"render",value:function(){this.state.value;var t=null;null!==this.state.email&&0===this.state.email.trim().length&&(t="Введите email");var e=null;null!==this.state.password&&0===this.state.password.trim().length&&(e="Введите пароль");var n=[];this.state.errors.length&&this.state.errors.forEach((function(t){n.push(r.createElement(c.Z,{error:!0,visible:!0,header:t.header,content:t.content}))}));var o=null===e&&null===t&&null!==this.state.password&&null!==this.state.email?r.createElement(l.Z.Button,null,"Войти"):null;return r.createElement(r.Fragment,null,r.createElement(s.Z,{as:"h1"},"Вход:"),r.createElement(l.Z,{autoComplete:"off",onSubmit:this.onSubmit},r.createElement(l.Z.Input,{fluid:!0,label:"Ваш email:",name:"email",onChange:this.handlers.email,error:t,type:"email",placeholder:"Введите email"}),r.createElement(l.Z.Input,{fluid:!0,label:"Ваш пароль:",error:e,name:"password",onChange:this.handlers.password,type:"password",placeholder:"Введите пароль"}),o,n))}}])&&p(e.prototype,n),o&&p(e,o),u}(r.Component);function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.formNode=e}var e,n,r;return e=t,(n=[{key:"getFormData",value:function(){return new FormData(this.formNode)}},{key:"getObject",value:function(){var t={};return this.getFormData().forEach((function(e,n){t[n]=e})),t}},{key:"getJson",value:function(){return JSON.stringify(this.getObject())}}])&&d(e.prototype,n),r&&d(e,r),t}();n(5666),n(8674),n(3710),n(9714),n(285);function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var w=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.is_success=1==e.is_success,this.data=e.data,this.errors=e.errors}var e,n,r;return e=t,(n=[{key:"isSuccess",value:function(){return this.is_success}},{key:"isFailed",value:function(){return!1===this.is_success}},{key:"getData",value:function(){return this.data}},{key:"getErrors",value:function(){return this.errors}}])&&_(e.prototype,n),r&&_(e,r),t}();function E(t,e,n,r,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(r,o)}function O(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function u(t){E(a,r,o,u,i,"next",t)}function i(t){E(a,r,o,u,i,"throw",t)}u(void 0)}))}}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var j=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,o,a;return e=t,n=null,r=[{key:"login",value:(a=O(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e._csrf_token=GlobalData.csrf.authenticate,t.next=3,fetch("/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(e).toString()});case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,t.abrupt("return",new Promise((function(t,e){1==r.is_success?t(r):e(r)})));case 8:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})},{key:"registration",value:(o=O(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e["registration_user_form[_csrf_token]"]=GlobalData.csrf.registration_user_form,t.next=3,fetch("/api/auth/registration/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(e).toString()});case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,o=new w(r),t.abrupt("return",new Promise((function(t,e){o.isSuccess()?t(o):e(o)})));case 9:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})}],n&&S(e.prototype,n),r&&S(e,r),t}();function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Z(t);if(e){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=n(251),B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(u,t);var e,n,o,a=x(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t)).state={path:location.pathname,errors:[]},e.onSubmitLoginForm=function(t){var n=new g(t.target).getObject();j.login(n).then((function(t){location.href="/cabinet/",e.setState({errors:[]})})).catch((function(t){e.setState({errors:[{header:"Ошибка авторизации",content:"Не удалось авторизоваться"}]})}))},e}return e=u,(n=[{key:"componentDidUpdate",value:function(t){T(t.global_state,this.props.global_state)||this.setState({global_state:this.props.global_state}),T(t.errors,this.props.errors)||this.setState({errors:this.props.errors})}},{key:"render",value:function(){var t=this.state,e=(t.path,t.errors);return r.createElement(r.Fragment,null,r.createElement(i.Z,{text:!0},r.createElement(v,{errors:e,onSubmit:this.onSubmitLoginForm})))}}])&&R(e.prototype,n),o&&R(e,o),u}(r.Component);function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=L(t);if(e){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var G=n(251),M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(u,t);var e,n,o,a=F(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t)).state={global_state:t.global_state,path:location.pathname,errors:[]},e}return e=u,(n=[{key:"componentDidUpdate",value:function(t){G(t.global_state,this.props.global_state)||this.setState({global_state:this.props.global_state})}},{key:"render",value:function(){var t=this.state;return t.path,t.errors,r.createElement(r.Fragment,null,r.createElement(i.Z,null,"Cabinet"))}}])&&U(e.prototype,n),o&&U(e,o),u}(r.Component),N=(n(8309),n(7401)),W=n(8188),z=n(4631),H=n(8237);function J(t,e,n,r,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(r,o)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var V=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,o,a;return e=t,n=null,r=[{key:"getList",value:(o=regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/users/get/all/",{method:"GET"});case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",new Promise((function(t,e){var r=new w(n);r.isSuccess()?t(r):e(r)})));case 7:case"end":return t.stop()}}),t)})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var a=o.apply(t,e);function u(t){J(a,n,r,u,i,"next",t)}function i(t){J(a,n,r,u,i,"throw",t)}u(void 0)}))},function(){return a.apply(this,arguments)})}],n&&K(e.prototype,n),r&&K(e,r),t}(),q=n(6973);function Q(t,e,n,r,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(r,o)}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,o,a;return e=t,n=null,r=[{key:"getList",value:(o=regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/roles/get/all/",{method:"GET"});case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",new Promise((function(t,e){var r=new w(n);r.isSuccess()?t(r):e(r)})));case 7:case"end":return t.stop()}}),t)})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var a=o.apply(t,e);function u(t){Q(a,n,r,u,i,"next",t)}function i(t){Q(a,n,r,u,i,"throw",t)}u(void 0)}))},function(){return a.apply(this,arguments)})}],n&&X(e.prototype,n),r&&X(e,r),t}();function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ot(t);if(e){var o=ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rt(this,n)}}function rt(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}(u,t);var e,n,o,a=nt(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t)).state={errors:t.errors||[],roles:[]},e.onSubmit="onSubmit"in t?t.onSubmit:function(t){},Y.getList().then((function(t){e.setState({roles:t.getData().roles})})),e}return e=u,(n=[{key:"render",value:function(){var t,e=this.state,n=(e.errors,e.roles),o=r.createElement(l.Z.Button,null,"Зарегистрировать");return r.createElement(r.Fragment,null,r.createElement(l.Z,{autoComplete:"off",onSubmit:this.onSubmit},r.createElement(l.Z.Input,{fluid:!0,label:"Email:",name:"registration_user_form[email]",type:"email",placeholder:"Введите email"}),r.createElement(l.Z.Input,{fluid:!0,label:"Имя:",name:"registration_user_form[first_name]",type:"text",placeholder:"Введите имя"}),r.createElement(l.Z.Input,{fluid:!0,label:"Фамилия:",name:"registration_user_form[second_name]",type:"text",placeholder:"Введите фамилию"}),r.createElement(l.Z.Input,{fluid:!0,label:"Отчество:",name:"registration_user_form[middle_name]",type:"text",placeholder:"Введите отчество"}),r.createElement(l.Z.Input,{fluid:!0,label:"Пароль для входа:",name:"registration_user_form[password]",type:"text",placeholder:"Введите пароль"}),r.createElement(l.Z.Input,{fluid:!0,label:"Повторите пароль:",name:"registration_user_form[re_password]",type:"text",placeholder:"Повторите пароль"}),(t=[],n.forEach((function(e){t.push(r.createElement(l.Z.Field,null,r.createElement(q.Z,{label:e.name,name:e.name,value:e.key})))})),t),o))}}])&&tt(e.prototype,n),o&&tt(e,o),u}(r.Component);function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ft(t);if(e){var o=ft(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return st(this,n)}}function st(t,e){return!e||"object"!==ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ft(t){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pt=n(251),yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}(u,t);var e,n,o,a=lt(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t)).state={global_state:t.global_state,errors:[],users:[],modal_registration_is_open:!1},e.onSubmitRegistrationForm=function(t){var e=new g(t.target).getObject();e["registration_user_form[password]"]===e["registration_user_form[re_password]"]?j.registration(e).then((function(t){location.reload()})).catch((function(t){alert(t)})):alert("Пароли не совпадают")},e.openModalAddUser=function(){return e.setState({modal_registration_is_open:!0})},e.closeModalAddUser=function(){return e.setState({modal_registration_is_open:!1})},V.getList().then((function(t){e.setState({users:t.getData().users})})),e}return e=u,(n=[{key:"componentDidUpdate",value:function(t){pt(t.global_state,this.props.global_state)||this.setState({global_state:this.props.global_state})}},{key:"render",value:function(){var t=this.state,e=(t.errors,t.users),n=t.modal_registration_is_open,o=[];return e.forEach((function(t){var e=[];t.roles.forEach((function(t){e.push(r.createElement(N.Z,{color:t.color},t.name))})),o.push(r.createElement(W.Z,null,r.createElement(W.Z.Content,null,r.createElement(W.Z.Header,{as:"a"},t.second_name," ",t.first_name," ",t.middle_name),r.createElement(W.Z.Extra,null,e))))})),r.createElement(i.Z,null,r.createElement(W.Z.Group,{divided:!0},o),r.createElement(z.Z,{open:n,trigger:r.createElement(H.Z,{onClick:this.openModalAddUser},"Добавить пользователя")},r.createElement(z.Z.Header,null,"Добавить пользователя"),r.createElement(z.Z.Content,null,r.createElement(at,{onSubmit:this.onSubmitRegistrationForm})),r.createElement(z.Z.Actions,null,r.createElement(H.Z,{onClick:this.closeModalAddUser},"Закрыть окно"))))}}])&&it(e.prototype,n),o&&it(e,o),u}(r.Component);function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt(t);if(e){var o=gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dt(this,n)}}function dt(t,e){return!e||"object"!==ht(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(251);var _t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(u,t);var e,n,o,a=vt(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t)).state={global_state:t.global_state,errors:[]},e}return e=u,(n=[{key:"render",value:function(){var t=this.state;return t.errors,t.users,t.modal_registration_is_open,r.createElement(i.Z,null,"RolesScreen")}}])&&mt(e.prototype,n),o&&mt(e,o),u}(r.Component),wt=(n(6699),n(2023),n(284));function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rt(t);if(e){var o=Rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pt(this,n)}}function Pt(t,e){return!e||"object"!==Et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rt(t){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kt=n(251),xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(c,t);var e,n,o,u=jt(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this,t)).state={path:t.path,global_state:t.global_state},e}return e=c,(n=[{key:"componentDidUpdate",value:function(t){kt(t.global_state,this.props.global_state)||this.setState({global_state:this.props.global_state}),kt(t.path,this.props.path)||this.setState({path:this.props.path})}},{key:"render",value:function(){var t=this,e=this.state,n=e.path,o=e.global_state,u=[];return o.user_is_auth?(u.push(r.createElement(wt.Z.Item,{name:"cabinet",to:"/projects/",onClick:function(){t.setState({path:"/projects/"})},as:a.rU,active:"/projects/"===n},"Проекты")),u.push(r.createElement(wt.Z.Item,{name:"cabinet",to:"/cabinet/",onClick:function(){t.setState({path:"/cabinet/"})},as:a.rU,active:"/cabinet/"===n},"Кабинет")),u.push(r.createElement(wt.Z.Item,{name:"cabinet",to:"/history/",onClick:function(){t.setState({path:"/history/"})},as:a.rU,active:"/history/"===n},"История")),o.user_roles.includes("ROLE_ADMIN")&&(u.push(r.createElement(wt.Z.Item,{name:"users",to:"/users/",onClick:function(){t.setState({path:"/users/"})},as:a.rU,active:"/users/"===n},"Пользователи")),u.push(r.createElement(wt.Z.Item,{name:"roles",to:"/roles/",onClick:function(){t.setState({path:"/roles/"})},as:a.rU,active:"/roles/"===n},"Роли"))),u.push(r.createElement(wt.Z.Item,{name:"logout",onClick:function(){location.href="/logout"},as:a.rU},"Выход"))):u.push(r.createElement(wt.Z.Item,{name:"login",onClick:function(){t.setState({path:"/login/"})},active:"/"===n},"Вход")),r.createElement(wt.Z,null,r.createElement(i.Z,null,u))}}])&&Ot(e.prototype,n),o&&Ot(e,o),c}(r.Component);function Ct(t,e,n,r,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(r,o)}function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Tt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,o,a;return e=t,n=null,r=[{key:"get",value:(o=regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/global_state/get/");case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var a=o.apply(t,e);function u(t){Ct(a,n,r,u,i,"next",t)}function i(t){Ct(a,n,r,u,i,"throw",t)}u(void 0)}))},function(){return a.apply(this,arguments)})}],n&&Zt(e.prototype,n),r&&Zt(e,r),t}();function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=At(t);if(e){var o=At(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ft(this,n)}}function Ft(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(l,t);var e,n,o,c=Dt(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=c.call(this,t)).state={path:location.pathname,app_is_initialized:!1,global_state:null},Tt.get().then((function(t){e.setState({global_state:t,app_is_initialized:!0})})),e}return e=l,(n=[{key:"render",value:function(){var t=this.state,e=t.path,n=t.app_is_initialized,o=t.global_state;return n?r.createElement(a.VK,null,r.createElement(xt,{global_state:o,path:e}),r.createElement("br",null),r.createElement(u.rs,null,r.createElement(u.AW,{path:"/cabinet/"},r.createElement(M,{global_state:o})),r.createElement(u.AW,{path:"/users/"},r.createElement(yt,{global_state:o})),r.createElement(u.AW,{path:"/roles/"},r.createElement(_t,{global_state:o})),r.createElement(u.AW,{path:"/"},r.createElement(B,{global_state:o})))):r.createElement(r.Fragment,null,r.createElement("br",null),r.createElement("br",null),r.createElement(i.Z,null,"Загрузка..."))}}])&&It(e.prototype,n),o&&It(e,o),l}(r.Component);o.render(r.createElement(Lt,null),document.getElementById("app"))},4654:()=>{}},t=>{"use strict";t.O(0,[947],(()=>{return e=8173,t(t.s=e);var e}));t.O()}]);